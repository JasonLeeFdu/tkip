% %% adjust the Original OTB100 VITAL results' structure
% path = '/home/winston/workSpace/PycharmProjects/tracking/TrackingGuidedInterpolation/Evaluation/results/trackingResults/Original/OTB100';
% fns = dir(path);
% 
% for i = 3:length(fns)
%     results = {}; 
%     resultsOri = {};
%     fn = fns(i).name;
%     srcPath = fullfile(path,fn);
%     load(srcPath);
% 
%     if ~isempty(resultsOri)
%         results=resultsOri;
%         save(srcPath,'results');
%         disp([fn 'is finished!']);
%     else
%         disp([fn 'is already done!']);
%     end
% end

%% Produce the Diff Movie

movieNames = {'Surfer','Lemming'};
moviePath  = '/home/winston/workSpace/PycharmProjects/tracking/TrackingGuidedInterpolation/Datasets/Original/OTB100';
ResPath    = '/home/winston/Desktop';
clipTime   = 6;
fps        = 25;
%%%%%%%%%%%%%%%%%%%%%%%%%%


%% STEP 1: Let's make the video


for i = 1:length(movieNames)
    moviePath = fullfile(moviePath,movieNames{i},'img');
    imgSet   = dir(moviePath);
    % init the movie writer
	out = VideoWriter(fullfile(ResPath,strcat(movieNames{i},'_diff.avi')));
    out.FrameRate = 25;
    out.Quality = 95;
    img = imread(fullfile(moviePath,imgSet(3).name));
    [h,w,c] = size(img);
    for j = 3:clipTime*fps
    % compute diff and concate that with the origin, then write it to the
    % movie
        if j == 3
            img = imread(fullfile(moviePath,imgSet(j).name));
            diff = zeros(h,w,3);
        else
            img = imread(fullfile(moviePath,imgSet(j).name));
            imgLast = imread(fullfile(moviePath,imgSet(j-1).name));
            imgY = rgb2ycbcr(img);
            imgY = imgY(:,;,1);
            imgLastY = rgb2ycbcr(imgLast);
            imgLastY = imgLastY(:,:,1);
            diff = abs(imgY - ImgLastY);
            st   = diff
            diff = repmat(diff,[1,1,3]);
            canvas = concat(img,);
        end
       
    end
    close(out);
    

end


%% STEP 2: draw the MDE line





